---
title: "Destructuring trong JavaScript: Trích xuất dữ liệu dễ dàng"
description: "Học cách sử dụng destructuring để trích xuất giá trị từ objects và arrays một cách ngắn gọn và hiệu quả"
image: "/images/blog/destructuring.svg"
date: "2024-12-06"
author: "Nguyen Thai Dat"
published: true
---

Destructuring là một tính năng mạnh mẽ của ES6+ cho phép bạn trích xuất giá trị từ objects và arrays một cách ngắn gọn và dễ đọc.

## Destructuring Arrays

### Cú pháp cơ bản

```javascript
const numbers = [1, 2, 3, 4, 5];

// Trích xuất từng phần tử
const [first, second, third] = numbers;
console.log(first, second, third); // 1 2 3

// Bỏ qua phần tử
const [a, , c] = numbers;
console.log(a, c); // 1 3

// Lấy phần còn lại với rest operator
const [firstNum, ...rest] = numbers;
console.log(firstNum); // 1
console.log(rest); // [2, 3, 4, 5]
```

### Giá trị mặc định

```javascript
const numbers = [1, 2];
const [a, b, c = 10] = numbers;
console.log(a, b, c); // 1 2 10
```

### Hoán đổi biến

```javascript
let a = 1;
let b = 2;

[a, b] = [b, a];
console.log(a, b); // 2 1
```

## Destructuring Objects

### Cú pháp cơ bản

```javascript
const person = {
  name: "Nguyen Thai Dat",
  age: 25,
  city: "Hanoi"
};

// Trích xuất thuộc tính
const { name, age } = person;
console.log(name, age); // "Nguyen Thai Dat" 25

// Đổi tên biến
const { name: fullName, age: tuoi } = person;
console.log(fullName, tuoi); // "Nguyen Thai Dat" 25
```

### Giá trị mặc định

```javascript
const person = {
  name: "Dat",
  age: 25
};

const { name, age, city = "Hanoi" } = person;
console.log(city); // "Hanoi" (giá trị mặc định)
```

### Nested Destructuring

```javascript
const user = {
  name: "Dat",
  address: {
    street: "123 Đường ABC",
    city: "Hanoi",
    country: "Vietnam"
  }
};

const {
  name,
  address: { city, country }
} = user;

console.log(name, city, country); // "Dat" "Hanoi" "Vietnam"
```

## Destructuring trong Function Parameters

### Với Objects

```javascript
function greet({ name, age }) {
  console.log(`Xin chào ${name}, bạn ${age} tuổi`);
}

const person = { name: "Dat", age: 25 };
greet(person); // "Xin chào Dat, bạn 25 tuổi"

// Với giá trị mặc định
function createUser({ name, age = 18, city = "Hanoi" }) {
  return { name, age, city };
}

const user = createUser({ name: "Dat" });
console.log(user); // { name: "Dat", age: 18, city: "Hanoi" }
```

### Với Arrays

```javascript
function getFirstAndLast([first, , , , last]) {
  return { first, last };
}

const numbers = [1, 2, 3, 4, 5];
const result = getFirstAndLast(numbers);
console.log(result); // { first: 1, last: 5 }
```

## Destructuring với Rest Operator

### Trong Arrays

```javascript
const [first, second, ...others] = [1, 2, 3, 4, 5];
console.log(first); // 1
console.log(second); // 2
console.log(others); // [3, 4, 5]
```

### Trong Objects

```javascript
const person = {
  name: "Dat",
  age: 25,
  city: "Hanoi",
  country: "Vietnam"
};

const { name, ...rest } = person;
console.log(name); // "Dat"
console.log(rest); // { age: 25, city: "Hanoi", country: "Vietnam" }
```

## Ví dụ thực tế

### Làm việc với API Response

```javascript
// Giả sử API trả về
const apiResponse = {
  status: "success",
  data: {
    users: [
      { id: 1, name: "Dat", email: "dat@example.com" },
      { id: 2, name: "Nam", email: "nam@example.com" }
    ],
    total: 2
  }
};

// Destructuring để lấy dữ liệu
const {
  data: { users, total }
} = apiResponse;

console.log(users, total);
```

### React Component Props

```javascript
// Trong React component
function UserCard({ name, age, email, avatar }) {
  return (
    <div>
      <img src={avatar} alt={name} />
      <h3>{name}</h3>
      <p>{age} tuổi</p>
      <p>{email}</p>
    </div>
  );
}

// Sử dụng
<UserCard
  name="Dat"
  age={25}
  email="dat@example.com"
  avatar="/avatar.jpg"
/>
```

### Import Modules

```javascript
// Destructuring khi import
import { useState, useEffect } from 'react';
import { map, filter, reduce } from 'lodash';

// Hoặc với default export
import React, { Component } from 'react';
```

## Kết hợp với Spread Operator

```javascript
const defaultConfig = {
  host: "localhost",
  port: 3000,
  timeout: 5000
};

const userConfig = {
  port: 8080,
  ssl: true
};

// Merge với destructuring và spread
const finalConfig = {
  ...defaultConfig,
  ...userConfig
};

console.log(finalConfig);
// { host: "localhost", port: 8080, timeout: 5000, ssl: true }
```

## Best Practices

1. **Sử dụng destructuring** thay vì truy cập trực tiếp khi có thể
2. **Đặt giá trị mặc định** cho các thuộc tính có thể không tồn tại
3. **Sử dụng rest operator** để lấy phần còn lại
4. **Đổi tên biến** khi cần để code rõ ràng hơn

## Kết luận

Destructuring là một tính năng rất hữu ích giúp code ngắn gọn và dễ đọc hơn. Hãy sử dụng nó thường xuyên trong các dự án của bạn!

